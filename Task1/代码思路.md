# 路网构建思路

> 总体思路是为每一个点创建一个集合，读取每一条边将相邻点放入集合。而由于不一定读取全部边，所以点的编号有可能是分散的，所以点的编号与其相邻点集合的关系可以对应成映射关系。

1. 文件edges.txt每一行的格式为`边的编号|点的编号,经度,纬度|点的编号,经度,纬度|...`，所以可以用字符串的split函数将每行信息由'|'分开，就可以提取每一边的点集`points`。
    ```提取点的编号
    _, *rest = line.split('|')
    ...
    NO, _, _ = data.split(',')
    ```

2. 由于路是双向的，所以在建立每一个点的相邻点集时，如果新的相邻点已经存在于原先集合中，则不纳入集合中，否则边的数目`road_count`加一。
    ```相邻点判重
    if not no in res[NO]:
        road_count += 1
        res[NO].add(no)
    ```

3. 建立点与其序号的映射`g`，利用python的字典推导可以快速创建。
    ```建立映射
    g = {id: th+1 for th, id in enumerate(sorted(points))}
    ```

4. 写入文件，`points`的长度为点的数目，`road_count`为边的数目，点的编号按`g`映射就行。